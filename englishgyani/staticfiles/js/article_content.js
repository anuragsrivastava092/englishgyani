$(document).ready(function(){
	article_content = [{"title":"Morgan Stanley Makes $100-Million Move on Fintech Startup Affirm",
		"publish_detail":"Published:<strong> Friedrich Geiger</strong> on 92 September 2016",
		"article_tag":"Startup",
		"date":"13 October 2016",
		"article_image":"https://d34yfym6wfrgx6.cloudfront.net/uploads/article/custom_image/139469/super_large_GettyImages-82875339__1_.jpg",
		"head":'<h2>Morgan Stanley Makes $100-Million Move on <span class="exercise-link">Fintech</span> Startup Affirm</h2>',
		"question":' <div class="question"> <div class="question_head"> <div class="question_head_le"> <span class="point_span">2 Points</span> <span class= "type_inst">Choose the correct answer.</span> </div> <div class="question_head_ri"> <i aria-hidden="true" class="fa fa-times question_close"></i> </div> </div> <div class="question_body"> <h4 class="question_body_text"><span id= "question_text_int">Complete this sentence in the most logical way:</span><br> <br> <span id="question_text_main">" Complete this sentence in the most logical way We bought the car five years ago for $20,000, but as a result of depreciation, its now worth ___."</span> </h4> <div class="question_answer"> <div class="answer"> <label class="label_class" id="label_id0"><input id="answer-0" name= "answer" type="radio" value="0"><label for= "answer-0"></label> <span class="label_option" id= "label0_text">money you give to a company money you give to a company</span></label><br> <label class="label_class" id="label_id1"><input id="answer-1" name= "answer" type="radio" value="1"><label for= "answer-1"></label> <span class="label_option" id= "label1_text">money you loan to a person</span></label><br> <label class="label_class" id="label_id2"><input id="answer-2" name= "answer" type="radio" value="2"><label for= "answer-2"></label> <span class="label_option" id= "label2_text">money you make from a project</span></label><br> <label class="label_class" id="label_id3"><input id="answer-3" name= "answer" type="radio" value="3"> <label for= "answer-3"></label> <span class="label_option" id= "label3_text">money you give to a company money you give to a company</span></label> </div> <div class="answer_ri"> <div class="ans_div"> <p class="answer_feeback">Sorry, its the other way around. We add the prefix "un-" to mean "not" or "the opposite of" something.</p> </div> </div> </div> <div class="answer-footer"> <span class="button check_buttton" id="cont_check">Check</span><span class= "button question_close" id="cont_red">Continue Reading</span><span class= "button" id="next_exe">or Go to Next Exercise</span> </div> </div> </div>',
			"article":'<p id="p1">Startup lender <span class="phrase" >Affirm</span> Inc. <span class="exercise-link vocabulary" id="q1">investment bank</span>is adding debt from</p> <p id="p2">Some borrowers <span class="exercise-link grammar" id="q2">pay off</span> credit cards monthly</p><p id="p3">Startup lender Affirm Inc. <span class="exercise-link comprehension" id="q3">investment bank</span>is adding debt from</p>',
	"article1":'<p>Startup lender Affirm Inc. is adding debt from Morgan Stanley as it seeks to grow its loans for tickets, trips, and other big online purchases as an alternative to paying with credit cards.</p><p>The Wall Street <span class="exercise-link">titan</span> is furnishing a $100 million <span class="exercise-link vocabulary">credit line</span> for Affirm, the four-year-old San Francisco company led by PayPal co-founder Max Levchin, which was valued at $800 million in its most recent fundraising.</p><p>It is the first time <span class="phrase">lenders</span>Morgan Stanley has backed the <span class="exercise-link vocabulary">lender</span>, which has raised cash from <span class="exercise-link">venture-capital</span> investors and debt from <span class="exercise-link vocabulary">investment bank</span> Jefferies and others.</p><p>Morgan Stanley, run by Chairman and CEO James Gorman, has <span class="phrase">lenders</span>recently worked with a number of online lenders, including Social Finance Inc. and Avant Inc., by providing credit lines and securitizing loans. It also led the public offerings of LendingClub Corp. and On Deck Capital Inc. back in 2014.</p><p>The new credit will add additional lending capacity for Affirm, which is still small in terms of the overall loan market. Still, the company says it has tripled its volume in the past year to hundreds of millions worth of loans. Overall, it has raised some $525 million in cash and debt financing.</p><p>Affirm is one of <span class="exercise-link grammar">dozens of</span> <span class="exercise-link vocabulary">online lenders</span> that have sprung up since the financial <span class="exercise-link grammar">crisis</span>. But it differs from the likes of LendingClub in that it makes loans solely for people making purchases, where they would typically use a credit or debit card. Other online lenders provide larger loans for general purposes with longer payment periods.</p><p>The company <span class="exercise-link vocabulary">partners with</span> merchants such as Eventbrite Inc., Casper Sleep Inc., and Expedia Inc., as well as e-commerce payments platforms, to offer a loan option in web <span class="exercise-link vocabulary">checkout</span> carts next to the usual credit and <span class="exercise-link vocabulary">debit card</span> buttons.</p><p>Affirm loans, typically for a few hundred dollars, can be repaid in six, nine, or 12 months, with costs ranging from 10% to 30% in annual percentage rates.</p><p>Some borrowers <span class="exercise-link vocabulary">pay off</span> credit cards monthly and <span class="phrase">lenders</span>incur no financing charges. But Affirm says its loans can be simpler and cheaper than carrying a card balance, especially store-branded cards, because its loans have no fees for usage or late payments, or <span class="exercise-link vocabulary">penalty</span> rates like some cards have.</p><p>Though some banks and <span class="comprehension">lenders</span> are warning that consumer credit growth may start to taper after years of expansion, the startups are betting on a bigger behavioral shift: That consumers, especially younger ones, will eventually use small loans to replace credit cards. These lenders use data about the nature of the purchase, in addition to the borrower’s credit profile, to <span class="exercise-link vocabulary">underwrite</span> loans.</p><p>While card balances held by younger consumers have dropped, other evidence suggests <span class="exercise-link vocabulary">millennials</span> are still big users of cards. A Fair Isaac Corp. survey earlier this year found that 83% of people aged 18 to 34 use credit cards—and that 37% expect to apply for a new card in the next few months, compared with 20% of middle-aged consumers.</p><p>About a third of Affirm borrowers are millennials, and “a large subset of that group is pretty definitively anti-credit card,” said Mr. Levchin in an interview. And they often have other financing options available, he added.</p>'
	
	}];
	article_question =[
		{
		question_id:"q1", point:200,question_instruction:"hjjjjjjjComplete this sentence in the most logical way:",
		question_text:"0000000We bought the car five years ago for $20,000, but as a result of depreciation, its now worth ___.",
		option1:"pppmoney you give to a company money you give to a company", option2:"22222hhuh 8i lam asjh huh pany money you give to a company",
		option3:"3333money you loan to a person",option4:"444444project money you loan to a person"
		},
		{
		question_id:"q2", point:2,question_instruction:"222Complete this sentence in the most logical way:",
		question_text:"222We bought the car five years ago for $20,000, but as a result of depreciation, its now worth ___.",
		option1:"12money you give to a company money you give to a company", option2:"22hhuh 8i lam asjh huh pany money you give to a company",
		option3:"32money you loan to a person",option4:"42project money you loan to a person",
		},
		{
		question_id:"q3", point:2,question_instruction:"Complete this sentence in the most logical way:",
		question_text:"We bought the car five years ago for $20,000, but as a result of depreciation, its now worth ___.",
		option1:"money you give to a company money you give to a company", option2:"hhuh 8i lam asjh huh pany money you give to a company",
		option3:"money you loan to a person",option4:"project money you loan to a person",
		}
		
];
	correct_answer = "3";
	answer_feeback ='answer_feeback answer_feeback answer_feeback answer_feebackSorry, its the other way around. We add the prefix "un-" to mean "not" or "the opposite of" something.';
		$('title').text("Englishgyani - "+ article_content[0].title);
		//article_date
		$("#article_date").text(article_content[0].date);
		$(".article_head_text").text(article_content[0].title);
		$("#article_image").attr("src","/static/images/article_images/"+article_content[0].article_image+"/");
		$("#js-article").append(article_content[0].head);
		$("#js-article").append(article_content[0].article);
		$(".article_footer_time").append(article_content[0].publish_detail);
		$(".article_tag").text(article_content[0].article_tag);
		
		
		
		$("body").on("click",".exercise-link",function(){ 
			present = this;
			question_id= $(present).attr("id");
			present_p_id= $(present).parent().attr("id");
			$("#"+present_p_id).after(article_content[0].question);
			question_index = findindex(article_question, question_id);
			console.log(question_index);
			// question
			$(".point_span").text(article_question[question_index].point +" points");
			$("#question_text_int").text(article_question[question_index].question_instruction);
			$("#question_text_main").text(article_question[question_index].question_text);
			$("#label0_text").text(article_question[question_index].option1);
			$("#label1_text").text(article_question[question_index].option2);
			$("#label2_text").text(article_question[question_index].option3);
			$("#label3_text").text(article_question[question_index].option4);
			//check_buttton
			$("input:radio").change(function () {
				$("#cont_check").prop("disabled", false);
				$(".check_buttton").css({"cursor":"pointer"});
				$(".check_buttton").css({"background":"#4CAF50"});
				$(".check_buttton").attr("class", "button check_buttton submit_response");
				//#a5d7a7
			});
		
	});	
	$("body").on("click",".question_close",function(){ 
		$(".question").remove();
	
	});	
	$("body").on("click",".submit_response",function(){ 
		console.log(111);
		response_ans = $('input[name="answer"]:checked').val();
		present = this 
		print present
	/*	formdata=new FormData();
    	formdata.append("question_id",present_p_id)
			$.ajax({
                 beforeSend: function (xhr, settings) {
                    xhr.setRequestHeader("X-CSRFToken", getCookie("csrftoken"));
                },
				url: "/api/article_question_response/",
				data:formdata,
                cache: false,
				type: "POST",
                contentType:false,
                processData: false,
				success: function(response) { 
					article_json = response;
                   
				},
				error: function(xhr) {
                     console.log(88);
				}
			});
		*/
		if (response_ans===correct_answer){
			$("#label_id"+response_ans).css({"background":"green"});
		}
		else{
			$("#label_id"+response_ans).css({"background":"red"});
			$("#label_id"+correct_answer).css({"background":"green"});
		}
		$(".answer_ri").css({"display":"block"});
		 $(".answer_feeback").text(answer_feeback);
			$("#cont_check").css({"display":"none"});
			$("#cont_red").css({"display":"block"});
	
	});	
function findindex(q_json, id){ 
		for (i=0;i<q_json.length;i++){
				if (q_json[i].question_id === id){ 
					return i
				}
		}
		return -1
		
	};

	
});